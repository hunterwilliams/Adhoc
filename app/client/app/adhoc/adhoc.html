<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <select ng-model="selectedDatabase" ng-options="item as item for item in databases">
  	<option value="">--Choose Database</option>
  </select>
  <select ng-model="selectedDocType" ng-options="item as item for item in doctypes">
  	<option value="">--Choose DocType</option>
  </select>
  <select ng-model="selectedQuery" ng-options="item.query as item.query for item in queries">
  	<option value="">--Choose Query</option>
  </select>
  <select ng-model="selectedView" ng-options="item as item for item in views">
  	<option value="">--Choose View</option>
  </select>
  <div ng-show="textFields.length">
    <span ng-repeat="item in textFields">
      <span>{{item}}</span><input type="text" class="form-control" ng-model="inputField[$index+1]"/>
    </span>
    <button ng-click="search()">Search</button>
  </div>
  <div ng-show="message != ''">{{message}}</div>
  <div ng-show="results['result-count']">
    <span> Total Results: {{results['result-count']}}</span>
    <span> Page: {{results['current-page']}} of {{results['page-count']}} </span>
    <table class="table table-bordered">
      <th ng-repeat="(key,value) in results['results'][0]">{{key}}</th>
      <tr ng-repeat="result in results['results']">
        <td ng-repeat="(key,value) in result">
          <span ng-show="key == 'uri'" ng-bind-html="to_trusted(value)"></span>
          <span ng-hide="key == 'uri'">{{value}}</span>
        </td>
      </tr>
    </table>
  </div>
</div>